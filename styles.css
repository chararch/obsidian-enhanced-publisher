/* HTML预览样式 */
.enhanced-publisher-preview {
    padding: 20px;
    background-color: white;
    color: black;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* HTML预览工具栏样式 */
.html-preview-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid var(--background-modifier-border);
}

/* HTML预览标题样式 */
.html-preview-title {
    font-weight: bold;
    cursor: text;
    user-select: text;
}

/* HTML预览按钮区域样式 */
.html-preview-button-area {
    display: flex;
    gap: 10px;
}

/* HTML预览复制按钮样式 */
.html-preview-copy-button {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    border: none;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
}

/* HTML预览发布按钮样式 */
.html-preview-publish-button {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    border: none;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
}

/* HTML预览内容容器样式 */
.html-preview-content {
    height: calc(100% - 50px); /* 减去工具栏高度 */
    overflow: hidden; /* 防止出现双滚动条 */
}

/* HTML预览iframe样式 */
.html-preview-iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
}

/* HTML预览警告样式 */
.html-preview-warning {
    padding: 15px;
    background-color: var(--background-modifier-error);
    color: var(--text-on-accent);
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 1000;
    font-weight: bold;
    border-bottom: 3px solid var(--background-modifier-border-focus);
    font-size: 16px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

/* 临时隐藏容器样式 */
.offscreen-container {
    position: absolute;
    left: -9999px;
}

/* 发布平台选择器样式 */
.enhanced-publisher-platform-selector {
    margin-bottom: 15px;
}

/* 发布按钮样式 */
.enhanced-publisher-publish-button {
    background-color: var(--interactive-accent) !important;
    color: var(--text-on-accent) !important;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    width: 80px;
}

.enhanced-publisher-publish-button:hover {
    background-color: var(--interactive-accent-hover) !important;
}

/* 微信公众号设置输入框样式 */
.setting-item.wechat-setting-appid input,
.setting-item.wechat-setting-appsecret input {
    width: 300px; /* 增加输入框宽度 */
}

/* 封面图选择样式 */
.wechat-cover-image-modal {
    height: 100%;
    display: flex;
    flex-direction: column;
    padding: 16px;
    box-sizing: border-box;
}

.mod-publish .modal-content {
    border-top: none !important;
}

/* 封面图选择模态窗口样式 */
.modal.mod-wechat-cover,
.modal.mod-publish {
    width: 900px !important;
    max-width: 90vw !important;
    height: 700px !important;
    max-height: 85vh !important;
    overflow-y: hidden;
}

.modal.mod-wechat-cover .modal-content,
.modal.mod-publish .modal-content {
    height: 100%;
    padding: 16px !important;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

/* 标签页容器 */
.wechat-cover-tabs {
    display: flex;
    border-bottom: 1px solid var(--background-modifier-border);
    margin-bottom: 15px;
    width: 100%;
}

/* 内容区容器 */
.wechat-cover-content {
    flex: 1;
    min-height: 0;
    position: relative;
    display: flex;
    flex-direction: column;
}

/* 素材库内容区和本地上传内容区共用样式 */
.wechat-material-content,
.wechat-local-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
}

/* 显示当前活动的内容区 */
.wechat-material-content.active,
.wechat-local-content.active {
    visibility: visible;
}

/* 修改本地上传内容区样式 */
.wechat-local-content {
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.wechat-local-content .file-input-container {
    width: 100%;
    text-align: center;
    margin-bottom: 20px;
}

.wechat-local-content .image-preview-container {
    width: 300px;
    margin-bottom: 20px;
}

.wechat-local-content .image-preview {
    width: 100%;
    height: 200px;
    border: 1px dashed var(--background-modifier-border);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--background-secondary);
}

/* 网格容器 */
.material-grid {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden; /* 防止水平滚动条 */
    min-height: 0;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* 响应式布局 */
    gap: 10px;
    padding: 0;
    margin: 0;
    align-content: start;
    width: 100%; /* 确保宽度100% */
}

/* 在较大屏幕上显示5列 */
@media (min-width: 800px) {
    .material-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* 响应式布局 */
    }
}

/* 分页容器 */
.pagination-container {
    margin-top: 16px;
    padding: 10px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    border-top: 1px solid var(--background-modifier-border);
}

/* 底部按钮容器 */
.wechat-cover-buttons {
    margin-top: 16px;
    text-align: right;
    padding-top: 16px;
    border-top: 1px solid var(--background-modifier-border);
}

.wechat-cover-tab {
    padding: 8px 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.wechat-cover-tab:hover {
    background-color: var(--background-modifier-hover);
}

.wechat-cover-tab.active {
    border-bottom: 2px solid var(--interactive-accent);
}

.material-item {
    width: 160px !important; /* 固定宽度 */
    margin: 0 !important;
    padding: 8px !important;
    box-sizing: border-box !important;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.material-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.material-item img {
    width: 144px !important; /* 160px - 2*8px padding */
    height: 100px !important;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 6px;
}

.enhanced-publisher-cover-preview {
    width: 120px;
    height: 80px;
    border: 1px dashed var(--background-modifier-border);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: 4px;
    background-color: var(--background-secondary);
}

.enhanced-publisher-cover-preview img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.confirm-button {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    padding: 8px 16px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    margin-left: 8px;
    transition: background-color 0.2s ease;
}

.confirm-button:hover {
    background-color: var(--interactive-accent-hover);
}

.pagination-container button {
    padding: 5px 10px;
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.pagination-container button:hover:not(:disabled) {
    background-color: var(--interactive-accent-hover);
}

.pagination-container button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.pagination-container span {
    margin: 0 10px;
    font-size: 14px;
}

.modal-close-button {
    position: absolute !important; /* 改为absolute而不是fixed */
    right: 12px !important;
    top: 12px !important;
    z-index: 1000 !important;
}

/* 文件浏览器增强样式 */
.document-spacer {
    width: 100%;
    height: 0.1px;
    margin-bottom: 0px;
}

.image-title {
    margin-inline-start: -34px;
    padding-inline-start: 58px;
}

/* 图片容器显示/隐藏样式 */
.document-images-container.visible {
    display: block;
}

.document-images-container.hidden {
    display: none;
}

/* 重命名输入框样式 */
.enhanced-publisher-rename-input {
    position: absolute;
    z-index: 1000;
    background-color: var(--background-primary);
    color: var(--text-normal);
    border: 1px solid var(--interactive-accent);
    border-radius: 4px;
    padding: 2px 4px;
    font-size: 14px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    outline: none;
}

/* HTML预览iframe内容样式 */
.html-preview-iframe-content body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    padding: 20px;
    margin: 0;
}

/* 图片通用样式 */
.html-preview-image {
    max-width: 100%;
    height: auto;
    object-fit: contain;
}

/* 封面图模态框的分页加载提示 */
.wechat-material-loading {
    text-align: center;
    padding: 20px;
}

/* 封面图模态框素材项名称 */
.material-item-name {
    font-size: 12px;
    white-space: nowrap; /* 防止换行 */
    overflow: hidden; /* 隐藏溢出内容 */
    text-overflow: ellipsis; /* 用省略号表示溢出内容 */
    max-width: 100%; /* 确保不超过容器宽度 */
    display: block; /* 块级元素确保占据整行 */
}

/* 底部按钮样式增强 */
.wechat-cover-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
}

/* 确认按钮额外样式 */
.wechat-confirm-button {
    background-color: var(--interactive-accent) !important;
    color: var(--text-on-accent) !important;
    transition: background-color 0.2s ease;
}

.wechat-confirm-button:hover {
    background-color: var(--interactive-accent-hover) !important;
}

/* 加载反馈样式 */
.visual-feedback-success {
    background-color: var(--interactive-success);
}

/* 模态框内容显示/隐藏控制 */
.content-hidden {
    display: none;
}

.content-visible {
    display: flex;
}

/* 预览图样式 */
.preview-image {
    max-width: 100%;
    max-height: 100%;
}

/* 标题输入框 */
.full-width-input {
    width: 100%;
}

/* 封面图预览区域 */
.cover-preview {
    width: 120px;
    height: 80px;
    border: 1px dashed var(--background-modifier-border);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 10px;
    overflow: hidden;
}

/* 封面图选择区容器 */
.cover-container {
    display: flex;
    align-items: center;
}

/* 发布按钮容器 */
.publish-button-container {
    text-align: center;
    margin-top: 30px;
}

/* 素材项选中和未选中状态 */
.material-item-selected {
    border: 2px solid var(--interactive-accent) !important;
}

.material-item-unselected {
    border: 1px solid var(--background-modifier-border);
}

/* 编辑状态样式 */
.nav-file-title.is-being-renamed {
    background-color: var(--background-modifier-form-field);
}

/* 重命名输入框样式 */
.enhanced-publisher-rename-input {
    font-family: inherit;
    font-size: inherit;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 0 4px !important;
    margin: 0 !important;
    background-color: var(--background-modifier-form-field);
    -webkit-appearance: none;
    appearance: none;
}