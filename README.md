# Enhanced Publisher（增强发布）插件

这是一个为Obsidian设计的增强发布插件，提供以下功能：

## 功能

1. **图片自动存储**：在Markdown文档中粘贴图片时，自动将图片存储到与文档同名的`[文档名]__assets`文件夹中，并在左侧边栏中隐藏该文件夹。

2. **HTML预览**：以HTML页面形式预览Markdown文档，方便复制到在线内容发布平台。

3. **内容平台发布**：通过API将文档直接发布到内容平台。目前支持微信公众号，后续将支持更多平台。

4. **特殊语法增强**：
    - **Mermaid 渲染**：支持 Mermaid 图表，兼容微信公众号。
    - **数学公式 (LaTeX)**：支持 LaTeX 数学公式（微信服务器会对包含 aligned/mtable 的复杂公式进行清洗导致显示不正确，如有问题请使用功能功能或图片）。
    - **Ruby 注音**：支持中文注音符号渲染。

5. **多主题系统**：内置多种主题样式。

## 安装

1. 在Obsidian中打开设置
2. 进入"第三方插件"
3. 关闭"安全模式"
4. 点击"浏览"按钮
5. 搜索"Enhanced Publisher"
6. 点击安装
7. 启用插件

## 使用方法

### 图片自动存储

1. 在编辑Markdown文档时，直接粘贴图片（Ctrl+V或Cmd+V）
2. 图片将自动保存到`[文档名]__assets`文件夹中
3. 图片链接将自动插入到文档中

### HTML预览

1. 在编辑Markdown文档时，使用命令面板（Ctrl+P或Cmd+P），搜索并选择"以HTML形式预览"
2. 在弹出的预览窗口中查看HTML渲染结果
3. 点击"预览"窗口顶部的工具栏，可以自由切换不同的**主题**
4. 点击"复制到内容平台"按钮复制内容

### 发布到内容平台

1. 在编辑Markdown文档时，使用命令面板（Ctrl+P或Cmd+P），搜索并选择"发布到内容平台"
2. 在弹出的发布窗口中输入标题并选择发布平台
3. 点击"发布"按钮

## 设置

在插件设置中，您可以：

1. 启用/禁用图片自动保存功能
2. 启用/禁用图片文件夹隐藏功能
3. 切换预览界面的主题样式
4. 配置微信公众号的 AppID 和 AppSecret

## 微信公众号集成

要使用微信公众号发布功能，您需要：

1. 拥有一个微信公众号
2. 获取AppID和AppSecret
3. 在插件设置中配置这些信息
4. 在公众号后台的"开发接口管理-基本配置"页面将自己的公网出口IP添加到IP白名单

## 注意事项

- 图片自动存储功能仅适用于从剪贴板粘贴的图片
- 微信公众号发布功能需要公众号拥有相应的API权限
- HTML预览可能与某些特定的Markdown语法或插件不完全兼容

## 许可证

MIT 

## 致谢与归属

本项目在开发过程中参考并借鉴了以下开源项目的技术实现与思路：

- [doocs/md](https://github.com/doocs/md) - 参考并使用了其优秀的 Markdown 排版与样式处理逻辑
- [TypeScript](https://www.typescriptlang.org/) (Apache-2.0许可证)
- [esbuild](https://esbuild.github.io/) (MIT许可证)
- [Obsidian API](https://github.com/obsidianmd/obsidian-api)

感谢开源社区提供的优秀工具与视觉灵感。